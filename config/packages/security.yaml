security:
  enable_authenticator_manager: true
  password_hashers:
    Symfony\Component\Security\Core\User\PasswordAuthenticatedUserInterface: 'auto'

  providers:
    users_in_memory: { memory: null }

    #fournit l'utilidateur utilisateur(necessaire pour le hachage du mdp)
    app_user_provider:
      entity:
        class: App\Entity\Utilisateur
        property: adresseMail

  firewalls:
    dev:
      pattern: ^/(_(profiler|wdt)|css|images|js)/
      security: false

    main:
      lazy: true
      provider: app_user_provider

      form_login:
        login_path: app_login
        check_path: app_login
      logout:
        path: app_logout

        #parge redirig√© apres logout
        target: app_home


    #protection crsf attack
    enable_csrf: true




  #hierachie des roles
  role_hierarchy:
    ROLE_1: ROLE_USER
    ROLE_SUPER_ADMIN: [ ROLE_1, ROLE_ADMIN ]


    # Easy way to control access for large sections of your site
    # Note: Only the *first* access control that matches will be used
  access_control:
    #veillez de meme pour vos url
    - { path: '^/creer', roles: [ ROLE_USER,IS_AUTHENTICATED_FULLY ] }
    - { path: '^/consulercompte', roles: [ ROLE_ADMIN, ROLE_USER, IS_AUTHENTICATED_FULLY ] }
    - { path: '^/modifierSonCompte', roles: [ ROLE_ADMIN, ROLE_USER, IS_AUTHENTICATED_FULL ] }
    - { path: '^/mestrajets', roles: [ ROLE_ADMIN, ROLE_USER, IS_AUTHENTICATED_FULL ] }
    - { path: '^/trajet', roles: [ ROLE_ADMIN, ROLE_USER, IS_AUTHENTICATED_FULL ] }
    - { path: '^/afficherlistecomptesuperuser', roles: [ ROLE_ADMIN, IS_AUTHENTICATED_FULL ] }
    - { path: '^/supprimeruncomptesuperuser', roles: [ ROLE_ADMIN, IS_AUTHENTICATED_FULL ] }
   # - { path: '^/supprimersoncompte', roles: [ ROLE_ADMIN, IS_AUTHENTICATED_FULL ] }




